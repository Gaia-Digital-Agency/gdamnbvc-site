import{e as O,c as A,a as D,b as R}from"./create-shadow-aL2YOXzk.js";import{a as X}from"./app-BbvnDTdV.js";function C(E){let{swiper:e,extendParams:T,on:x}=E;T({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),O({effect:"cards",swiper:e,on:x,setTranslate:()=>{const{slides:o,activeIndex:l,rtlTranslate:a}=e,i=e.params.cardsEffect,{startTranslate:M,isTouched:u}=e.touchEventsData,$=a?-e.translate:e.translate;for(let c=0;c<o.length;c+=1){const n=o[c],w=n.progress,t=Math.min(Math.max(w,-4),4);let p=n.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(p-=o[0].swiperSlideOffset);let r=e.params.cssMode?-p-e.translate:-p,d=0;const b=-100*Math.abs(t);let m=1,h=-i.perSlideRotate*t,S=i.perSlideOffset-Math.abs(t)*.75;const f=e.virtual&&e.params.virtual.enabled?e.virtual.from+c:c,g=(f===l||f===l-1)&&t>0&&t<1&&(u||e.params.cssMode)&&$<M,v=(f===l||f===l+1)&&t<0&&t>-1&&(u||e.params.cssMode)&&$>M;if(g||v){const s=(1-Math.abs((Math.abs(t)-.5)/.5))**.5;h+=-28*t*s,m+=-.5*s,S+=96*s,d=`${-25*s*Math.abs(t)}%`}if(t<0?r=`calc(${r}px ${a?"-":"+"} (${S*Math.abs(t)}%))`:t>0?r=`calc(${r}px ${a?"-":"+"} (-${S*Math.abs(t)}%))`:r=`${r}px`,!e.isHorizontal()){const s=d;d=r,r=s}const y=t<0?`${1+(1-m)*t}`:`${1-(1-m)*t}`,P=`
        translate3d(${r}, ${d}, ${b}px)
        rotateZ(${i.rotate?a?-h:h:0}deg)
        scale(${y})
      `;if(i.slideShadows){let s=n.querySelector(".swiper-slide-shadow");s||(s=A("cards",n)),s&&(s.style.opacity=Math.min(Math.max((Math.abs(t)-.5)/.5,0),1))}n.style.zIndex=-Math.abs(Math.round(w))+o.length;const I=D(i,n);I.style.transform=P}},setTransition:o=>{const l=e.slides.map(a=>X(a));l.forEach(a=>{a.style.transitionDuration=`${o}ms`,a.querySelectorAll(".swiper-slide-shadow").forEach(i=>{i.style.transitionDuration=`${o}ms`})}),R({swiper:e,duration:o,transformElements:l})},perspective:()=>!0,overwriteParams:()=>({_loopSwapReset:!1,watchSlidesProgress:!0,loopAdditionalSlides:e.params.cardsEffect.rotate?3:2,centeredSlides:!0,virtualTranslate:!e.params.cssMode})})}export{C as E};
