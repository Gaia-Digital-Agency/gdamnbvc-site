import{g as m,a as S,e as y,S as w}from"./swiper-core-BWsPD-mm.js";import{C as b}from"./choices-PN3yYAsG.js";function E(h){let{swiper:e,extendParams:p,emit:i,on:n}=h,o=!1;const u=m(),d=S();p({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1,getSlideIndex(s,r){if(e.virtual&&e.params.virtual.enabled){const l=e.slides.find(f=>f.getAttribute("data-hash")===r);return l?parseInt(l.getAttribute("data-swiper-slide-index"),10):0}return e.getSlideIndex(y(e.slidesEl,`.${e.params.slideClass}[data-hash="${r}"], swiper-slide[data-hash="${r}"]`)[0])}}});const g=()=>{i("hashChange");const s=u.location.hash.replace("#",""),r=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],l=r?r.getAttribute("data-hash"):"";if(s!==l){const t=e.params.hashNavigation.getSlideIndex(e,s);if(typeof t>"u"||Number.isNaN(t))return;e.slideTo(t)}},v=()=>{if(!o||!e.params.hashNavigation.enabled)return;const s=e.virtual&&e.params.virtual.enabled?e.slidesEl.querySelector(`[data-swiper-slide-index="${e.activeIndex}"]`):e.slides[e.activeIndex],r=s?s.getAttribute("data-hash")||s.getAttribute("data-history"):"";e.params.hashNavigation.replaceState&&d.history&&d.history.replaceState?(d.history.replaceState(null,null,`#${r}`||""),i("hashSet")):(u.location.hash=r||"",i("hashSet"))},a=()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;o=!0;const s=u.location.hash.replace("#","");if(s){const l=e.params.hashNavigation.getSlideIndex(e,s);e.slideTo(l||0,0,e.params.runCallbacksOnInit,!0)}e.params.hashNavigation.watchState&&d.addEventListener("hashchange",g)},c=()=>{e.params.hashNavigation.watchState&&d.removeEventListener("hashchange",g)};n("init",()=>{e.params.hashNavigation.enabled&&a()}),n("destroy",()=>{e.params.hashNavigation.enabled&&c()}),n("transitionEnd _freeModeNoMomentumRelease",()=>{o&&v()}),n("slideChange",()=>{o&&e.params.cssMode&&v()})}const L=h=>{const e=h.querySelector(".filter-wrapper"),p=h.querySelector(".swiper"),i=new w(p,{slidesPerView:1,allowTouchMove:!1,modules:[E],hashNavigation:!0,init:!1,spaceBetween:20,autoHeight:!0,observer:!0,observeSlideChildren:!0}),n=h.querySelectorAll(".tabs-button-wrapper .tabs-button"),o=()=>{n.forEach(a=>{a.classList.remove("active")})},u=a=>{[v,g,d].forEach(c=>c(a))},d=()=>{const a=h.querySelector(`.tabs-button-wrapper [data-hash="${window.location.hash.replace("#","")}"]`);a&&(o(),a.classList.add("active"),window.addEventListener("load",()=>{window.scrollTo(0,Math.max(a.getBoundingClientRect().top,0))}))},g=()=>{const a=()=>{i.wrapperEl.style.height="auto"};window.addEventListener("resize",a),window.addEventListener("load",a),a()},v=a=>{if(!e)return;const s=a.slides[a.activeIndex].querySelector(".block-gallery-full");if(!s){e.classList.add("hidden");return}e.classList.remove("hidden");const r=()=>{const l=[{value:"all",label:"All"}];if(s.querySelector(".image-gallery")){const t=s.querySelector(".image-gallery.multi")?"Pictures":"Picture";l.push({value:"picture",label:t})}if(s.querySelector(".video-gallery")){const t=s.querySelector(".video-gallery.multi")?"Videos":"Video";l.push({value:"video",label:t})}return l};new b(e.querySelector("select"),{choices:r(),searchEnabled:!1,itemSelectText:""}),e.querySelector("select").addEventListener("change",l=>{l.target.value=="picture"&&(i.el.querySelectorAll(".image-gallery").forEach(t=>{t.classList.remove("hidden")}),i.el.querySelectorAll(".video-gallery").forEach(t=>{t.classList.add("hidden")})),l.target.value=="video"&&(i.el.querySelectorAll(".video-gallery").forEach(t=>{t.classList.remove("hidden")}),i.el.querySelectorAll(".image-gallery").forEach(t=>{t.classList.add("hidden")})),l.target.value=="all"&&(i.el.querySelectorAll(".video-gallery").forEach(t=>{t.classList.remove("hidden")}),i.el.querySelectorAll(".image-gallery").forEach(t=>{t.classList.remove("hidden")}))})};i.on("init",u),i.init(),n.forEach(a=>{const c=parseInt(a.dataset.index);a.addEventListener("click",()=>{i.activeIndex!=c&&(o(),a.classList.add("active"),i.slideTo(c))})}),i.on("slideChange",v)};export{L as initTabContent};
